"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config_1 = require("../core/config");
const discord_js_1 = require("discord.js");
class MessageHelper {
    static IsCommand(config, message) {
        return message.content.indexOf(config_1.Config.COMMAND_PREFIX) === 0;
    }
    static IsDMChannel(message) {
        return message.channel instanceof discord_js_1.DMChannel || message.guild === null;
    }
    static HasPermission(message) {
        const roles = ["Ōnā", "Botto"];
        return message.member.roles.some(r => roles.includes(r.name));
    }
    static GetPermissions(message, log = false) {
        const permissions = message.member.permissions;
        if (log === true) {
            console.log(permissions.toArray());
        }
        return permissions;
    }
    static GetArgs(config, message) {
        return message.content
            .slice(config_1.Config.COMMAND_PREFIX.length)
            .trim()
            .split(/ +/g);
    }
    static GetCommand(config, message) {
        return this.GetArgs(config, message)
            .shift()
            .toLowerCase();
    }
    static GetParameter(config, message) {
        const args = this.GetArgs(config, message);
        return args.slice(1, args.length).join(" ");
    }
    static Delete(message) {
        if (message.deletable) {
            message.delete();
        }
    }
}
exports.MessageHelper = MessageHelper;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZS5oZWxwZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaGVscGVycy9tZXNzYWdlLmhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJDQUF3QztBQUN4QywyQ0FBZ0Q7QUFFaEQsTUFBYSxhQUFhO0lBQ2pCLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBYyxFQUFFLE9BQWdCO1FBQ3RELE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFnQjtRQUN4QyxPQUFPLE9BQU8sQ0FBQyxPQUFPLFlBQVksc0JBQVMsSUFBSSxPQUFPLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQztJQUN4RSxDQUFDO0lBRU0sTUFBTSxDQUFDLGFBQWEsQ0FBQyxPQUFnQjtRQUMxQyxNQUFNLEtBQUssR0FBRyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMvQixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVNLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBZ0IsRUFBRSxNQUFlLEtBQUs7UUFDakUsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDL0MsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQ2hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7U0FDcEM7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFjLEVBQUUsT0FBZ0I7UUFDcEQsT0FBTyxPQUFPLENBQUMsT0FBTzthQUNuQixLQUFLLENBQUMsZUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7YUFDbkMsSUFBSSxFQUFFO2FBQ04sS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFTSxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQWMsRUFBRSxPQUFnQjtRQUN2RCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQzthQUNqQyxLQUFLLEVBQUU7YUFDUCxXQUFXLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRU0sTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFjLEVBQUUsT0FBZ0I7UUFDekQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDM0MsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFTSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQWdCO1FBQ25DLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRTtZQUNyQixPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDbEI7SUFDSCxDQUFDO0NBQ0Y7QUE3Q0Qsc0NBNkNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4uL2NvcmUvY29uZmlnXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2UsIERNQ2hhbm5lbCB9IGZyb20gXCJkaXNjb3JkLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVzc2FnZUhlbHBlciB7XHJcbiAgcHVibGljIHN0YXRpYyBJc0NvbW1hbmQoY29uZmlnOiBDb25maWcsIG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQuaW5kZXhPZihDb25maWcuQ09NTUFORF9QUkVGSVgpID09PSAwO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBJc0RNQ2hhbm5lbChtZXNzYWdlOiBNZXNzYWdlKSB7XHJcbiAgICByZXR1cm4gbWVzc2FnZS5jaGFubmVsIGluc3RhbmNlb2YgRE1DaGFubmVsIHx8IG1lc3NhZ2UuZ3VpbGQgPT09IG51bGw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIEhhc1Blcm1pc3Npb24obWVzc2FnZTogTWVzc2FnZSkge1xyXG4gICAgY29uc3Qgcm9sZXMgPSBbXCLFjG7EgVwiLCBcIkJvdHRvXCJdO1xyXG4gICAgcmV0dXJuIG1lc3NhZ2UubWVtYmVyLnJvbGVzLnNvbWUociA9PiByb2xlcy5pbmNsdWRlcyhyLm5hbWUpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgR2V0UGVybWlzc2lvbnMobWVzc2FnZTogTWVzc2FnZSwgbG9nOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHBlcm1pc3Npb25zID0gbWVzc2FnZS5tZW1iZXIucGVybWlzc2lvbnM7XHJcbiAgICBpZiAobG9nID09PSB0cnVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHBlcm1pc3Npb25zLnRvQXJyYXkoKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGVybWlzc2lvbnM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIEdldEFyZ3MoY29uZmlnOiBDb25maWcsIG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnRcclxuICAgICAgLnNsaWNlKENvbmZpZy5DT01NQU5EX1BSRUZJWC5sZW5ndGgpXHJcbiAgICAgIC50cmltKClcclxuICAgICAgLnNwbGl0KC8gKy9nKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgR2V0Q29tbWFuZChjb25maWc6IENvbmZpZywgbWVzc2FnZTogTWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuR2V0QXJncyhjb25maWcsIG1lc3NhZ2UpXHJcbiAgICAgIC5zaGlmdCgpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBHZXRQYXJhbWV0ZXIoY29uZmlnOiBDb25maWcsIG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGFyZ3MgPSB0aGlzLkdldEFyZ3MoY29uZmlnLCBtZXNzYWdlKTtcclxuICAgIHJldHVybiBhcmdzLnNsaWNlKDEsIGFyZ3MubGVuZ3RoKS5qb2luKFwiIFwiKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgRGVsZXRlKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgIGlmIChtZXNzYWdlLmRlbGV0YWJsZSkge1xyXG4gICAgICBtZXNzYWdlLmRlbGV0ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=